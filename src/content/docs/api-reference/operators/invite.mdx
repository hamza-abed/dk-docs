---
title: Inviter un opérateur
description: Envoie une invitation à un opérateur pour rejoindre l'organisation.
---

import { Aside } from '@astrojs/starlight/components';

## Inviter par email — POST /operators/invite

Envoie un email d'invitation à une adresse email pour rejoindre l'organisation en tant qu'opérateur. L'invité reçoit un lien pour créer son compte et télécharger l'application mobile.

### Body

| Paramètre | Type | Requis | Description |
|-----------|------|--------|-------------|
| `email` | string | Oui | Adresse email de l'opérateur à inviter. |

### Exemple de requête

```bash
curl -X POST https://api.dispatchkit.io/api/v1/operators/invite \
  -H "Authorization: Bearer {token}" \
  -H "Content-Type: application/json" \
  -d '{
    "email": "jean.dupont@exemple.fr"
  }'
```

### Réponse `200 OK`

```json
{
  "message": "Invitation sent successfully",
  "invitation": {
    "id": "c3d4e5f6-a7b8-9012-cdef-123456789012",
    "token": "abc123...",
    "email": "jean.dupont@exemple.fr",
    "expires_at": "2024-01-22T09:00:00Z",
    "created_at": "2024-01-15T09:00:00Z"
  }
}
```

---

## Inviter un opérateur existant — POST /operators/`{id}`/invite

Envoie (ou renvoie) une invitation à un opérateur déjà créé dans l'organisation. L'opérateur doit avoir une adresse email renseignée.

### Path params

| Paramètre | Type | Requis | Description |
|-----------|------|--------|-------------|
| `id` | string (UUID) | Oui | Identifiant de l'opérateur existant. |

### Exemple de requête

```bash
curl -X POST https://api.dispatchkit.io/api/v1/operators/c3d4e5f6-a7b8-9012-cdef-123456789012/invite \
  -H "Authorization: Bearer {token}"
```

### Réponse `200 OK`

```json
{
  "message": "Invitation sent successfully",
  "resent": false,
  "invitation": {
    "id": "d4e5f6a7-b890-1234-cdef-567890123456",
    "token": "def456...",
    "email": "jean.dupont@exemple.fr",
    "expires_at": "2024-01-22T09:00:00Z",
    "created_at": "2024-01-15T09:00:00Z"
  }
}
```

<Aside type="note">
  Si une invitation est déjà en attente pour cet opérateur, elle est renvoyée et `resent` vaut `true`.
</Aside>

### Erreurs

**POST /operators/invite** (invitation par email) :

| Code HTTP | Description |
|-----------|-------------|
| `400` | Email invalide ou manquant |
| `409` | Cet email est déjà membre de l'organisation |

**POST /operators/`{id}`/invite** (invitation d'un opérateur existant) :

| Code HTTP | Description |
|-----------|-------------|
| `400` | L'opérateur n'a pas d'adresse email renseignée |
| `404` | Opérateur introuvable |
