---
title: Inviter un opérateur
description: Envoie une invitation à un opérateur pour rejoindre l'organisation.
---

import { Aside } from '@astrojs/starlight/components';

## POST /operators/invite

Envoie un email d'invitation à un opérateur pour rejoindre l'organisation. L'opérateur reçoit un lien pour créer son compte et télécharger l'application mobile.

### Body

| Paramètre | Type | Requis | Description |
|-----------|------|--------|-------------|
| `email` | string | Oui | Adresse email de l'opérateur à inviter. |

<Aside type="caution">
  Seul le champ `email` est pris en compte par le backend. Les champs `first_name`, `last_name`, `phone` et `vehicle_plate` sont ignorés s'ils sont envoyés.
</Aside>

### Exemple de requête

```bash
curl -X POST https://api.dispatchkit.io/api/v1/operators/invite \
  -H "Authorization: Bearer {token}" \
  -H "Content-Type: application/json" \
  -d '{
    "email": "jean.dupont@exemple.fr"
  }'
```

### Réponse `201 Created`

```json
{
  "id": "c3d4e5f6-a7b8-9012-cdef-123456789012",
  "email": "jean.dupont@exemple.fr",
  "status": "unavailable",
  "invitation_status": "pending",
  "invited_at": "2024-01-15T09:00:00Z"
}
```

<Aside type="note">
  Si l'email correspond à un compte DispatchKit existant, l'utilisateur est directement ajouté à l'organisation sans qu'un email soit envoyé.
</Aside>

### Erreurs

| Code HTTP | Code erreur | Description |
|-----------|-------------|-------------|
| `409` | `OPERATOR_ALREADY_IN_ORGANIZATION` | Cet email est déjà membre de l'organisation |
| `422` | `INVITATION_ALREADY_PENDING` | Une invitation est déjà en attente pour cet email |
