---
title: Renouveler le token
description: Renouvelle un token JWT expiré sans redemander les identifiants.
---

import { Aside } from '@astrojs/starlight/components';

## POST /auth/refresh

Renouvelle un token JWT expiré ou sur le point d'expirer en utilisant le `refresh_token`. Aucun identifiant n'est requis.

### Body

| Paramètre | Type | Requis | Description |
|-----------|------|--------|-------------|
| `refresh_token` | string | Oui | Le token de renouvellement obtenu lors du login ou de l'inscription. Valable 30 jours. |

### Exemple de requête

```bash
curl -X POST https://api.dispatchkit.io/api/v1/auth/refresh \
  -H "Content-Type: application/json" \
  -d '{
    "refresh_token": "rt_01J5XKTY4H3GNQV2..."
  }'
```

### Réponse

| Champ | Type | Description |
|-------|------|-------------|
| `token` | string | Nouveau token JWT valable 24 heures. |
| `refresh_token` | string | Nouveau token de renouvellement. L'ancien token est invalidé. |

```json
{
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "refresh_token": "rt_01J5XKTY4H3GNQV3..."
}
```

<Aside type="note">
  Chaque appel à `/auth/refresh` invalide l'ancien `refresh_token` et en génère un nouveau. Stockez toujours le dernier token retourné.
</Aside>

### Erreurs

| Code HTTP | Code erreur | Description |
|-----------|-------------|-------------|
| `401` | `INVALID_REFRESH_TOKEN` | Token de renouvellement invalide ou expiré |
| `401` | `REFRESH_TOKEN_REVOKED` | Token révoqué suite à une déconnexion explicite |
