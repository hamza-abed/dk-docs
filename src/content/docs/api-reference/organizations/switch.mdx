---
title: Changer d'organisation
description: Switche le contexte actif vers une autre organisation.
---

import { Aside } from '@astrojs/starlight/components';

## POST /organizations/`{id}`/switch

Échange le token courant contre un nouveau token scopé sur l'organisation cible. L'utilisateur doit être membre de cette organisation.

### Path params

| Paramètre | Type | Requis | Description |
|-----------|------|--------|-------------|
| `id` | string | Oui | Identifiant de l'organisation vers laquelle switcher. |

### Exemple de requête

```bash
curl -X POST https://api.dispatchkit.io/api/v1/organizations/org_01J5XKTY4H3GNQV3/switch \
  -H "Authorization: Bearer {current_token}"
```

### Réponse

| Champ | Type | Description |
|-------|------|-------------|
| `token` | string | Nouveau token JWT valable 24 heures, scopé sur l'organisation cible. |
| `organization` | object | Informations de l'organisation active. |
| `organization.id` | string | Identifiant de l'organisation active. |
| `organization.name` | string | Nom de l'organisation. |
| `organization.role` | string | Rôle de l'utilisateur dans cette organisation. |

```json
{
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "organization": {
    "id": "org_01J5XKTY4H3GNQV3",
    "name": "Transport Dupont Lyon",
    "role": "admin"
  }
}
```

<Aside type="caution">
  Le token original n'est pas invalidé — conservez-le pour revenir à l'organisation précédente. Seul le token retourné ici est scopé sur la nouvelle organisation.
</Aside>

### Erreurs

| Code HTTP | Code erreur | Description |
|-----------|-------------|-------------|
| `403` | `NOT_ORGANIZATION_MEMBER` | L'utilisateur n'est pas membre de cette organisation |
| `404` | `ORGANIZATION_NOT_FOUND` | Organisation introuvable |
