---
title: Mettre à jour une mission
description: Modifie les informations d'une mission existante.
---

## PATCH /missions/{id}

Met à jour les champs d'une mission. Seuls les champs fournis dans le body sont modifiés (patch partiel).

<Warning>
  Seules les missions au statut `PENDING` ou `ASSIGNED` peuvent être modifiées. Tenter de modifier une mission `IN_PROGRESS` ou au-delà retourne une erreur `422`.
</Warning>

### Path params

<ParamField path="id" type="string" required>
  Identifiant unique de la mission.
</ParamField>

### Body

<ParamField body="title" type="string">
  Nouveau titre de la mission.
</ParamField>

<ParamField body="origin_address" type="string">
  Nouvelle adresse de départ.
</ParamField>

<ParamField body="destination_address" type="string">
  Nouvelle adresse de destination.
</ParamField>

<ParamField body="notes" type="string">
  Notes mises à jour pour l'opérateur.
</ParamField>

<ParamField body="scheduled_at" type="string">
  Nouvelle date planifiée au format ISO 8601.
</ParamField>

<ParamField body="status" type="string">
  Permet d'annuler la mission en passant `CANCELLED`. Requiert `cancellation_reason`.
</ParamField>

<ParamField body="cancellation_reason" type="string">
  Raison de l'annulation (obligatoire si `status` = `CANCELLED`).
</ParamField>

### Exemple de requête

```bash
curl -X PATCH https://api.dispatchkit.io/api/v1/missions/mis_01J5XKTY4H3GNQV2 \
  -H "Authorization: Bearer {token}" \
  -H "Content-Type: application/json" \
  -d '{
    "notes": "Code porte mis à jour : 5678",
    "scheduled_at": "2024-01-15T11:00:00Z"
  }'
```

### Réponse

Retourne la mission complète mise à jour.

```json
{
  "id": "mis_01J5XKTY4H3GNQV2",
  "title": "Livraison Rue de la Paix",
  "status": "ASSIGNED",
  "notes": "Code porte mis à jour : 5678",
  "scheduled_at": "2024-01-15T11:00:00Z",
  "updated_at": "2024-01-15T09:30:00Z"
}
```
